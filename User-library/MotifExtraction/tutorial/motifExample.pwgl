(IN-PACKAGE :CCL)
;; this patch was saved with PWGL version 1.0 beta RC 17 (0.9.17-171)
(ASSERT-PATCH-SAVED-VERSION-NOT-NEWER-THAN (QUOTE ((0 9 17) 171)))
(LET ((WIN (MAKE-INSTANCE (QUOTE PWGL-PW-WINDOW) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "patternlist" :CURVAL "()" :VALUE-STRING "()" :CONNECTION NIL)) :X 1.4831746031746039D0 :Y 0.49980952380952304D0 :W 0.26 :H 0.1 :BOX-STRING "print-patterns" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE MOTIFEXTRACTION:PRINT-PATTERNS)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "patternlist" :CURVAL "()" :VALUE-STRING "()" :CONNECTION NIL) (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "minlength" :VALUE-STRING "0") (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "useminlength" :MINVAL 0 :MAXVAL 1 :MENU-LIST (LIST (LIST "off" NIL) (LIST "on" T)) :MENU-LIST-STRING (LIST "off" NIL)) (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "maxlength" :VALUE-STRING "0") (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "usemaxlength" :MINVAL 0 :MAXVAL 1 :MENU-LIST (LIST (LIST "off" NIL) (LIST "on" T)) :MENU-LIST-STRING (LIST "off" NIL)) (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "minfreq" :VALUE-STRING "0") (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "useminfreq" :MINVAL 0 :MAXVAL 1 :MENU-LIST (LIST (LIST "off" NIL) (LIST "on" T)) :MENU-LIST-STRING (LIST "off" NIL)) (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "maxfreq" :VALUE-STRING "0") (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "usemaxfreq" :MINVAL 0 :MAXVAL 1 :MENU-LIST (LIST (LIST "off" NIL) (LIST "on" T)) :MENU-LIST-STRING (LIST "off" NIL))) :X 0.6135873015873004D0 :Y 1.4140952380952374D0 :W 0.5 :H 0.39999998 :BOX-STRING "filter-results" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1 2 2 2 2) :ORIG-GROUPING-LIST (LIST 1 2 2 2 2) :X-PROPORTIONS (LIST (LIST 1) (LIST 1 (LIST :FIX 0.2)) (LIST 1 (LIST :FIX 0.2)) (LIST 1 (LIST :FIX 0.2)) (LIST 1 (LIST :FIX 0.2))) :BORDER 0.012) :PW-FUNCTION (QUOTE MOTIFEXTRACTION:FILTER-RESULTS)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "patternlist" :CURVAL "()" :VALUE-STRING "()" :CONNECTION NIL)) :X 0.6948571428571424D0 :Y 0.4347936507936505D0 :W 0.26 :H 0.1 :BOX-STRING "convert-to-pattern-freq-pairs" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE MOTIFEXTRACTION:CONVERT-TO-PATTERN-FREQ-PAIRS)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "patternlist" :CURVAL "()" :VALUE-STRING "()" :CONNECTION NIL) (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "sortby" :MINVAL 0 :MAXVAL 1 :MENU-LIST (LIST (LIST "Sort by length" NIL) (LIST "Sort by frequency" T)) :MENU-LIST-STRING (LIST "Sort by length" NIL)) (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "ascenddescend" :MINVAL 0 :MAXVAL 1 :MENU-LIST (LIST (LIST "Descending" NIL) (LIST "Ascending" T)) :MENU-LIST-STRING (LIST "Descending" NIL))) :X 0.9224126984126975D0 :Y 0.8695873015873032D0 :W 0.5 :H 0.24 :BOX-STRING "sort-patterns" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1 1 1) :ORIG-GROUPING-LIST (LIST 1 1 1) :BORDER 0.012) :PW-FUNCTION (QUOTE MOTIFEXTRACTION:SORT-PATTERNS)) (MAKE-INSTANCE (QUOTE PWGL-TEXT-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-TEXT-SUBVIEW) :BOX-STRING "text" :APPLICATION-WINDOW (MAKE-INSTANCE (QUOTE PWGL-FRED-WINDOW) :TITLE "Text-Editor" :X 100 :Y 100 :WIDTH 500 :HEIGHT 600) :VALUE-STRING "(c e d f g a)" :CONNECTION NIL)) :X 1.8407619047619049D0 :Y 1.4994285714285714D0 :W 0.4381587420796593D0 :H 0.1 :BOX-STRING "text-box" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE TEXT-BOX) :USER-STRING "Singletons" :OPEN-STATE-W 0.4381587420796593D0 :OPEN-STATE-H 0.1 :FORMAT-ARGS (LIST :FORMAT T :COLUMNS 1 :PRINT-ESCAPE T)) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "patternlist" :CURVAL "()" :VALUE-STRING "()" :CONNECTION NIL)) :X 1.8813968253968272D0 :Y 1.1906031746031738D0 :W 0.26 :H 0.1 :BOX-STRING "print-patterns" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE MOTIFEXTRACTION:PRINT-PATTERNS) :USER-STRING "Longest Non-trivial") (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "patternlist" :CURVAL "()" :VALUE-STRING "()" :CONNECTION NIL)) :X 1.8813968253968243D0 :Y 0.8899047619047615D0 :W 0.26 :H 0.1 :BOX-STRING "convert-to-pattern-freq-pairs" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE MOTIFEXTRACTION:CONVERT-TO-PATTERN-FREQ-PAIRS) :USER-STRING "Longest Non-trivial") (MAKE-INSTANCE (QUOTE PWGL-VALUES-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "string0" :CURVAL (LIST (QUOTE C) (QUOTE E) (QUOTE D) (QUOTE E) (QUOTE C) (QUOTE D) (QUOTE E) (QUOTE C) (QUOTE F) (QUOTE E) (QUOTE D) (QUOTE G) (QUOTE C)) :VALUE-STRING "(c e d e c d e c f e d g c)") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "minfreq" :CURVAL 2 :VALUE-STRING "2") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "strings" :CURVAL (LIST (QUOTE E) (QUOTE C) (QUOTE G) (QUOTE C) (QUOTE E) (QUOTE C) (QUOTE G) (QUOTE C) (QUOTE F) (QUOTE E) (QUOTE F) (QUOTE D) (QUOTE E) (QUOTE D) (QUOTE C)) :VALUE-STRING "(e c g c e c g c f e f d e d c)") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "strings" :CURVAL (LIST (QUOTE C) (QUOTE E) (QUOTE A) (QUOTE C) (QUOTE F) (QUOTE E) (QUOTE F) (QUOTE G) (QUOTE C) (QUOTE G) (QUOTE C)) :VALUE-STRING "(c e a c f e f g c g c)")) :X 0.1869206349206347D0 :Y 1.8732698412698415D0 :W 0.9031745912536744D0 :H 0.24719998 :BOX-STRING "motif-extraction" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "Motifs") (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "Longest") (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "Singletons")) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 2 1 1) :ORIG-GROUPING-LIST (LIST 2) :EXTENSION-PATTERN (LIST 1) :X-PROPORTIONS (LIST (LIST 2 1)) :BORDER 0.012) :PW-FUNCTION (QUOTE MOTIFEXTRACTION:MOTIF-EXTRACTION) :OPEN-STATE-W 0.9031745912536744D0 :OPEN-STATE-H 0.17359999 :CURRENT-EXTENSION-PATTERN-INDEX* 2)) :X 5 :Y 5 :CONNECTIONS (LIST (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 7 :OUT-BOX 2 :PWBOX2 4 :INPUT-BOX 0 :DRAW-MODE :LINE :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2)) (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 7 :OUT-BOX 1 :PWBOX2 6 :INPUT-BOX 0 :DRAW-MODE :BEZIER :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2) :CX1 0.738507932037588D0 :CY1 1.5080698581498769D0 :CX2 1.7407619032717876D0 :CY2 1.4075174616317423D0) (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 7 :OUT-BOX 1 :PWBOX2 5 :INPUT-BOX 0 :DRAW-MODE :BEZIER :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2) :CX1 0.738507932037588D0 :CY1 1.5080698581498769D0 :CX2 1.8382857127956D0 :CY2 1.4603428584571383D0) (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 7 :OUT-BOX 0 :PWBOX2 1 :INPUT-BOX 0 :DRAW-MODE :LINE :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2)) (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 3 :OUT-BOX 0 :PWBOX2 2 :INPUT-BOX 0 :DRAW-MODE :5POINT :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2) :CX1 1.0724126969225814D0 :CY1 0.5115873062364655D0 :CX2 0.5135873000971847D0 :CY2 0.2616126997269812D0) (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 3 :OUT-BOX 0 :PWBOX2 0 :INPUT-BOX 0 :DRAW-MODE :LINE :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2)) (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 1 :OUT-BOX 0 :PWBOX2 3 :INPUT-BOX 0 :DRAW-MODE :BEZIER :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2) :CX1 0.7635873000971842D0 :CY1 0.8960952612218396D0 :CX2 0.6801904747003587D0 :CY2 0.6691619059003542D0)) :WINDOW-DOCUMENTATION "This example illustrates the functionality of the MotifExtraction library. It uses three short sequences from which to search for motifs. These sequences could be viewed as simple melodies in C major.

Note that the input lists of the motif extraction box can contain any sort of items (numbers, objects, lists, etc.).

Try experimenting with the filter to limit the results. Hold the mouse down on the filter-results box to see which input corresponds to which filter (max./min. length/frequency).

When evaluating the print-pattern box, view the PWGL Output window to see the printed output." :X 287 :Y 47 :WIDTH 730 :HEIGHT 530))) (WINDOW-SELECT WIN) WIN)