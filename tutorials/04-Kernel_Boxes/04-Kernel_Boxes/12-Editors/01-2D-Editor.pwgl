(IN-PACKAGE :CCL)
;; this patch was saved with PWGL version 1.0 beta RC 17 (0.9.17-144)
(ASSERT-PATCH-SAVED-VERSION-NOT-NEWER-THAN (QUOTE ((0 9 17) 144)))
(LET ((WIN (MAKE-INSTANCE (QUOTE PWGL-PW-WINDOW) :TAGS (LIST "box-tutorial/2D-Editor" ) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE 2D-EDITOR) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-2D-SUBBOX) :APPLICATION-WINDOW (LET ((WIN (MAKE-INSTANCE (QUOTE PWGL-FUNCTION-EDITOR-WINDOW) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-2D-VIEW) :R 1.0 :G 1.0 :B 1.0 :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-SCRAP-COLLECTION) :R 1.0 :G 1.0 :B 1.0 :SCRAP-BOXES (LIST (MAKE-INSTANCE (QUOTE PWGL-SCRAP-BOX) :W 10 :H 10 :POINTS (LIST (MAKE-INSTANCE (QUOTE C-POINT2) :X 0.0 :Y 0.0) (MAKE-INSTANCE (QUOTE C-POINT2) :X 1.0 :Y 0.0) (MAKE-INSTANCE (QUOTE C-POINT2) :X 1.0 :Y 1.0) (MAKE-INSTANCE (QUOTE C-POINT2) :X 0.0 :Y 2.0))) (MAKE-INSTANCE (QUOTE PWGL-SCRAP-BOX) :X 2.0 :Y 2.0 :W 10 :H 10 :POINTS (LIST (MAKE-INSTANCE (QUOTE C-POINT2) :X 2.0 :Y 2.0) (MAKE-INSTANCE (QUOTE C-POINT2) :X 0.0 :Y 5.0) (MAKE-INSTANCE (QUOTE C-POINT2) :X 1.0 :Y 0.0)))))) :Y 1.0 :W 1.0 :H 1.0 :GLORTHOX1 -0.06 :GLORTHOX2 2.06 :GLORTHOY1 -0.14999999 :GLORTHOY2 5.15)) :X 204 :Y 318 :HITS 1 :WINDOW-UPDATE? T :TITLE "2D-Editor1" :X 204 :Y 318 :WIDTH 350 :HEIGHT 350))) WIN) :CONNECTION NIL)) :X 0.5800000249147415D0 :Y 1.5680001578330996D0 :W 0.5 :H 0.5 :BOX-STRING "2D-Editor" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "objects") (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "active")) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE 2D-EDITOR)) (MAKE-INSTANCE (QUOTE PWGL-2D-CONSTRUCTOR-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-MENUBOX-SUBVIEW) :BOX-STRING "selector" :PWGL-ACTION-FUNCTION (QUOTE 2D-CONSTRUCTOR-FUNCTION) :CURVAL 2 :MINVAL 0 :MAXVAL 5 :MENU-LIST :2D-CONSTRUCTOR-CLASSES :MENU-LIST-STRING ":scrap") (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "xs/ys" :CURVAL (LIST (LIST (LIST 0 0) (LIST 1 0) (LIST 1 1) (LIST 0 2)) (LIST (LIST 2 2) (LIST 0 5) (LIST 1 0))) :VALUE-STRING "(((0 0) (1 0) (1 1) (0 2)) ((2 2) (0 5) (1 0)))")) :X 0.09199995642900483D0 :Y 1.947999856948853D0 :W 0.957999988079071D0 :H 0.166 :BOX-STRING "2d-scrap-constructor" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1 1) :ORIG-GROUPING-LIST (LIST 1 1) :EXTENSION-PATTERN (LIST 1) :EXTENSION-LIMIT 7 :BORDER 0.012) :PW-FUNCTION (QUOTE 2D-SCRAP-CONSTRUCTOR) :OPEN-STATE-W 0.957999988079071D0 :OPEN-STATE-H 0.166) (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "value" :CURVAL (LIST 1 10 100 10 1) :VALUE-STRING "(1  10   100   10  1)")) :X 1.1960000000000002D0 :Y 1.9320006637573242D0 :W 0.915999990463257D0 :H 0.1 :BOX-STRING "value-box" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE VALUE-BOX) :OPEN-STATE-W 0.915999990463257D0 :OPEN-STATE-H 0.1) (MAKE-INSTANCE (QUOTE 2D-EDITOR) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-2D-SUBBOX) :APPLICATION-WINDOW (LET ((WIN (MAKE-INSTANCE (QUOTE PWGL-FUNCTION-EDITOR-WINDOW) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-2D-VIEW) :R 1.0 :G 1.0 :B 1.0 :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE C-BREAK-POINT-FUNCTION) :POINTS (QUOTE ((0 1) (1 10) (2 100) (3 10) (4 1))))) :Y 1.0 :W 1.0 :H 1.0 :GLORTHOX1 -0.12 :GLORTHOX2 4.12 :GLORTHOY1 -1.97 :GLORTHOY2 102.97)) :X 204 :Y 318 :HITS 1 :WINDOW-UPDATE? T :TITLE "2D-Editor1" :X 204 :Y 318 :WIDTH 350 :HEIGHT 350))) WIN) :CONNECTION NIL)) :X 1.6640000264048576D0 :Y 1.6600001563429836D0 :W 0.5 :H 0.5 :BOX-STRING "2D-Editor" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "objects") (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "active")) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE 2D-EDITOR)) (MAKE-INSTANCE (QUOTE PWGL-CHORD-EDITOR) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-CHORD-SUBBOX) :R 1.0 :G 1.0 :B 1.0 :APPLICATION-WINDOW (LET ((WIN (MAKE-INSTANCE (QUOTE CHORD-EDITOR-WINDOW) :SPACING 0.3 :MODE :ARPEGGIO :PARTS (LIST (MAKE-INSTANCE (QUOTE PART) :X 0.0 :Y 45.0 :INSTRUMENT (MAKE-INSTANCE (QUOTE INSTRUMENT) :SCORE-NAME "P" :WRITTEN-CLEF (MAKE-INSTANCE (QUOTE TREBLE-STAFF)) :SOUNDING-CLEF (MAKE-INSTANCE (QUOTE TREBLE-STAFF))) :STAFF (MAKE-INSTANCE (QUOTE CHORD-EDITOR-PIANO-STAFF)) :VOICE-LIST (LIST (MAKE-INSTANCE (QUOTE ENP-CHORD-EDITOR) :X 4.5 :WIDTH NIL :CHORDS (LIST (MAKE-INSTANCE (QUOTE CHORD) :PLIST (LIST :TEMP-PITCHES NIL) :NOTES (LIST (MAKE-INSTANCE (QUOTE NOTE)) (MAKE-INSTANCE (QUOTE NOTE) :MIDI 69) (MAKE-INSTANCE (QUOTE NOTE) :MIDI 51) (MAKE-INSTANCE (QUOTE NOTE) :DELTA-X -6)))) :PIXELS/SEC 6.0)))) :SCALEFX 2.3 :SCALEFY 2.3 :TRANSLX 18.0 :TRANSLY -8.0 :X 155 :Y 66 :STAFF (MAKE-INSTANCE (QUOTE CHORD-EDITOR-PIANO-STAFF)) :TITLE "Chord-Editor1" :X 155 :Y 66 :WIDTH 616 :HEIGHT 432))) WIN))) :X 0.1280000000000001D0 :Y 0.8400006637573241D0 :W 0.5640000059604646D0 :H 0.5 :BOX-STRING "Chord-Editor" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "chord") (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "pitches")) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE CHORD-EDITOR) :OPEN-STATE-W 0.5640000059604646D0 :OPEN-STATE-H 0.5) (MAKE-INSTANCE (QUOTE 2D-EDITOR) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-2D-SUBBOX) :APPLICATION-WINDOW (LET ((WIN (MAKE-INSTANCE (QUOTE PWGL-FUNCTION-EDITOR-WINDOW) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-2D-VIEW) :R 1.0 :G 1.0 :B 1.0 :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE C-BREAK-POINT-FUNCTION) :POINTS (QUOTE ((0 60) (1 69) (2 51) (3 60))))) :Y 1.0 :W 1.0 :H 1.0 :GLORTHOX1 -0.089999996 :GLORTHOX2 3.09 :GLORTHOY1 50.46 :GLORTHOY2 69.54)) :X 204 :Y 318 :HITS 1 :WINDOW-UPDATE? T :TITLE "2D-Editor1" :X 204 :Y 318 :WIDTH 350 :HEIGHT 350))) WIN) :CONNECTION NIL)) :X 0.7800000264048577D0 :Y 0.8200001563429833D0 :W 0.5 :H 0.5 :BOX-STRING "2D-Editor" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "objects") (MAKE-INSTANCE (QUOTE PWGL-OUTPUT) :BOX-STRING "active")) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE 2D-EDITOR)) (MAKE-INSTANCE (QUOTE PWGL-TEXT-BOX) :R 1.0 :G 1.0 :B 0.0 :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-TEXT-SUBVIEW) :BOX-STRING "text" :APPLICATION-WINDOW (MAKE-INSTANCE (QUOTE PWGL-FRED-WINDOW) :TITLE "Text-Editor" :X 100 :Y 100 :WIDTH 474 :HEIGHT 112) :VALUE-STRING "Eval also in this--->" :XSCALE-FC 1.1876862 :YSCALE-FC 1.1876862)) :X 1.3479999999999999D0 :Y 0.272000663757324D0 :W 0.7360000119209293D0 :H 0.12400000149011659D0 :BOX-STRING "text-box" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :ORIG-GROUPING-LIST (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE TEXT-BOX) :OPEN-STATE-W 0.7360000119209293D0 :OPEN-STATE-H 0.12400000149011659D0) (MAKE-INSTANCE (QUOTE PWGL-SHELL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE SHELL-OPTION-INPUT-BOX) :BOX-STRING "-p" :OPTION "-p") (MAKE-INSTANCE (QUOTE SHELL-OPTION-INPUT-BOX) :CONNECTION NIL :OPTION "")) :X 2.1280000014901184D0 :Y 0.3519999985098834D0 :W 0.4 :H 0.2 :BOX-STRING "pwgl-shell-box" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-SHELL-BOX-OUTPUT) :BOX-STRING "exe" :OUTPUT-TYPE :EXE) (MAKE-INSTANCE (QUOTE PWGL-SHELL-BOX-OUTPUT) :BOX-STRING "pipe" :OUTPUT-TYPE :PIPE)) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1 1) :ORIG-GROUPING-LIST (LIST 1 1) :EXTENSION-PATTERN (LIST 1) :BORDER 0.012) :PW-FUNCTION (QUOTE PWGL-SHELL-BOX) :SHELL-COMMAND "qlmanage") (MAKE-INSTANCE (QUOTE PWGL-BOX) :PWGL-SUBVIEWS (LIST (MAKE-INSTANCE (QUOTE PWGL-VALUE-BOX-SUBVIEW) :BOX-STRING "relative-pathname" :CURVAL "2D-Editor.mov" :VALUE-STRING "\"2D-Editor.mov\"")) :X 1.6400000000000002D0 :Y 0.5839995231628419D0 :W 0.9599999904632575D0 :H 0.12100000286102342D0 :BOX-STRING "pwgl-patch-pathname" :PWGL-OUTPUTS (LIST (MAKE-INSTANCE (QUOTE PWGL-OUTPUT))) :BOX-LAYOUT (MAKE-INSTANCE (QUOTE PWGL-BOX-LAYOUT) :GROUPING-LIST (LIST 1) :EXTENSION-PATTERN (LIST 1) :EXTENSION-LIMIT 1 :BORDER 0.012) :PW-FUNCTION (QUOTE PWGL-PATCH-PATHNAME) :OPEN-STATE-W 0.9599999904632575D0 :OPEN-STATE-H 0.12100000286102342D0 :CURRENT-EXTENSION-PATTERN-INDEX* 1)) :X 5 :Y 5 :TRANSLY -0.00400076627731322D0 :CONNECTIONS (LIST (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 8 :OUT-BOX 0 :PWBOX2 7 :INPUT-BOX 1 :DRAW-MODE :LINE :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2)) (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 4 :OUT-BOX 1 :PWBOX2 5 :INPUT-BOX 0 :DRAW-MODE :5POINT :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2)) (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 2 :OUT-BOX 0 :PWBOX2 3 :INPUT-BOX 0 :DRAW-MODE :LINE :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2)) (MAKE-INSTANCE (QUOTE PWGL-CONNECTION) :PWBOX1 1 :OUT-BOX 0 :PWBOX2 0 :INPUT-BOX 0 :DRAW-MODE :LINE :BEZIER-SELECTOR1 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 1) :BEZIER-SELECTOR2 (MAKE-INSTANCE (QUOTE PWGL-BEZIER-SELECTOR) :POINT-NUM 2))) :WINDOW-DOCUMENTATION "2D-EDITOR:
2D editor: a generic editor box for objects that have data in 2 dimensions
(so called 2D-objects).

Currently supported 2D-objects are:
bpf, bezier, scrap, chord-seq, marker and sound-sample.

The input can either be:
 (1) a list or a list of lists of y values or
 (2) a 2D-object or a list of 2D-objects.

In the former case (1) the 2D-editor generates bpfs out of the lists.
In the latter case (2) the objects are defined in the patch outside the 2D-editor,
typically coming from another 2D-editor or generated by a 2D-constructor box.
Note that incoming objects are always copied.

The 2D-editor has by default two outputs, 'objects' and 'active'. Two other,
optional outputs, 'x' and 'y', can be added to the box using the 'add outputs...'
menu of the box popup-menu.

When evaluated the 'objects' output can have two behaviours.
(1) if the box is not connected or the box is locked, then the box returns
all 2D-objects contained in the 2D-editor.
(2) if the box is connected and not locked, the box reads the input and replaces
the contents of the 2D-editor with the new 2D-objects coming from the patch.

All other outputs refer to the contents of the 2D-editor without attempting to
evaluate the input (even if the box is connected and unlocked).

'active' output returns only the active 2D-object

The behaviour of the optional 'x' and 'y' outputs depend on the 'active-object-x/y'
mode of the box (this mode can be edited by opening the 'edit-box...' dialog from
the box popup-menu).
If T - shown by the 'E/A' string in the down-right corner of the box -
the 'x' and 'y' outputs return only the x and y data lists of the active 2D-object.
If () - shown by 'E' - the output consists of x and y data lists of all 2D-objects
in the 2D-editor.


" :X 5 :Y 5 :WIDTH 730 :HEIGHT 530))) (WINDOW-SELECT WIN) WIN)